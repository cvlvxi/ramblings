(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc037"],{"4bb5":function(s,t,a){"use strict";a.r(t);var r=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("ul",[a("li",[a("ol",[a("li",[a("a",{attrs:{href:"#Links"}},[s._v("Links")])])])]),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[a("a",{attrs:{href:"#Tooling"}},[s._v("Tooling")])])])]),a("li",[a("ol",{attrs:{start:"3"}},[a("li",[a("a",{attrs:{href:"#Installing"}},[s._v("Installing")])])]),a("ul",[a("li",[s._v("3.1. "),a("a",{attrs:{href:"#Issueruamel.yamlconflict"}},[s._v("Issue ruamel.yaml conflict")])]),a("li",[s._v("3.2. "),a("a",{attrs:{href:"#venv"}},[s._v("venv")])]),a("li",[s._v("3.3. "),a("a",{attrs:{href:"#Issueinstallrunner"}},[s._v("Issue install runner")])])])]),a("li",[a("ol",{attrs:{start:"4"}},[a("li",[a("a",{attrs:{href:"#FirstCWL"}},[s._v("First CWL")])])])]),a("li",[a("ol",{attrs:{start:"5"}},[a("li",[a("a",{attrs:{href:"#Amoreverboseexampleofacwlfile"}},[s._v("A more verbose example of a cwl file")])])]),a("ul",[a("li",[s._v("5.1. "),a("a",{attrs:{href:"#Types"}},[s._v("Types")])]),a("li",[s._v("5.2. "),a("a",{attrs:{href:"#Commandrun"}},[s._v("Command run")])]),a("li",[s._v("5.3. "),a("a",{attrs:{href:"#tmpdirs"}},[s._v("tmp dirs")])]),a("li",[s._v("5.4. "),a("a",{attrs:{href:"#inputBindings"}},[s._v("inputBindings")])])])]),a("li",[a("ol",{attrs:{start:"6"}},[a("li",[a("a",{attrs:{href:"#Withoutput"}},[s._v("With output")])])]),a("ul",[a("li",[s._v("6.1. "),a("a",{attrs:{href:"#Outputresponse"}},[s._v("Output response")])]),a("li",[s._v("6.2. "),a("a",{attrs:{href:"#Outputbinding"}},[s._v("Output binding")])])])]),a("li",[a("ol",{attrs:{start:"7"}},[a("li",[a("a",{attrs:{href:"#Variableinputoutput"}},[s._v("Variable input/output")])])])]),a("li",[a("ol",{attrs:{start:"8"}},[a("li",[a("a",{attrs:{href:"#DockerIntegration"}},[s._v("Docker Integration")])])]),a("ul",[a("li",[s._v("8.1. "),a("a",{attrs:{href:"#Dockercmd"}},[s._v("Docker cmd")])])])]),a("li",[a("ol",{attrs:{start:"9"}},[a("li",[a("a",{attrs:{href:"#Moreargs"}},[s._v("More args")])])]),a("ul",[a("li",[s._v("9.1. "),a("a",{attrs:{href:"#CmdRun"}},[s._v("Cmd Run")])])])]),a("li",[a("ol",{attrs:{start:"10"}},[a("li",[a("a",{attrs:{href:"#GroupingInputs"}},[s._v("Grouping Inputs")])])])]),a("li",[a("ol",{attrs:{start:"11"}},[a("li",[a("a",{attrs:{href:"#EnvironmentVariables"}},[s._v("Environment Variables")])])])]),a("li",[a("ol",{attrs:{start:"12"}},[a("li",[a("a",{attrs:{href:"#EnvVariables"}},[s._v("Env Variables")])])])]),a("li",[a("ol",{attrs:{start:"13"}},[a("li",[a("a",{attrs:{href:"#JavscriptExpressions"}},[s._v("Javscript Expressions")])])]),a("ul",[a("li",[s._v("13.1. "),a("a",{attrs:{href:"#Whentouse"}},[s._v("When to use")])]),a("li",[s._v("13.2. "),a("a",{attrs:{href:"#Example"}},[s._v("Example")])]),a("li",[s._v("13.3. "),a("a",{attrs:{href:"#Letsmodifythejstoseewhatwecando"}},[s._v("Lets modify the js to see what we can do")])])])]),a("li",[a("ol",{attrs:{start:"14"}},[a("li",[a("a",{attrs:{href:"#CreatingFilesatRuntime"}},[s._v("Creating Files at Runtime")])])]),a("ul",[a("li",[s._v("14.1. "),a("a",{attrs:{href:"#Example-1"}},[s._v("Example")])]),a("li",[s._v("14.2. "),a("a",{attrs:{href:"#PipeoperatorinYaml"}},[s._v("Pipe operator in Yaml")])])])])]),a("h1",[s._v("CWL Intro")]),a("img",{attrs:{src:"https://imgur.com/tKTmpc1.png"}}),a("p",[s._v("Let's convert one of my crappy pipelines to CWL for funsies")]),a("h2",[s._v("1. "),a("a",{attrs:{name:"Links"}}),s._v("Links")]),a("ul",[a("li",[a("a",{attrs:{href:"https://www.commonwl.org/"}},[s._v("CommonWL")])]),a("li",[a("a",{attrs:{href:"https://github.com/common-workflow-language/cwltool"}},[s._v("Github")])]),a("li",[s._v("See this "),a("a",{attrs:{href:"https://www.commonwl.org/user_guide"}},[s._v("User Guide")]),s._v(" for more details on below")])]),a("h2",[s._v("2. "),a("a",{attrs:{name:"Tooling"}}),s._v("Tooling")]),a("ul",[a("li",[s._v("Most common tooling is "),a("a",{attrs:{href:"https://github.com/common-workflow-language/cwltool"}},[s._v("cwltool")])]),a("li",[s._v("Looks like other flavours exist though in Java, Go etc")])]),a("h2",[s._v("3. "),a("a",{attrs:{name:"Installing"}}),s._v("Installing")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("pip install cwltool\n")])]),a("h3",[s._v("3.1. "),a("a",{attrs:{name:"Issueruamel.yamlconflict"}}),s._v("Issue ruamel.yaml conflict")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("pkg_resources.ContextualVersionConflict: (ruamel.yaml 0.16.10 (/path/to/lib/python3.8/site-packages), Requirement.parse("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'ruamel.yaml<=0.16.5,>=0.12.4'")]),s._v("), {"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'cwltool'")]),s._v("})\n")])]),a("h3",[s._v("3.2. "),a("a",{attrs:{name:"venv"}}),s._v("venv")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("python -m venv cwlenv\n")])]),a("h3",[s._v("3.3. "),a("a",{attrs:{name:"Issueinstallrunner"}}),s._v("Issue install runner")]),a("p",[s._v("Also need to install")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("pip install cwlref-runner\n")])]),a("h2",[s._v("4. "),a("a",{attrs:{name:"FirstCWL"}}),s._v("First CWL")]),a("ul",[a("li",[s._v("Two files: "),a("ul",[a("li",[s._v("1st-tool.cwl")]),a("li",[s._v("echo-job.yml")])])])]),a("p",[s._v("1st-tool.cwl")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#!/usr/bin/env cwl-runner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("echo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("string")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("[]")]),s._v("\n")])]),a("p",[s._v("echo-job.yml")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Hello")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("world!")]),s._v("\n")])]),a("ul",[a("li",[s._v("See "),a("a",{attrs:{href:"https://www.commonwl.org/user_guide/02-1st-example/index.html"}},[s._v("First Example")]),s._v(" for more details")])]),a("h2",[s._v("5. "),a("a",{attrs:{name:"Amoreverboseexampleofacwlfile"}}),s._v("A more verbose example of a cwl file")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#!/usr/bin/env cwl-runner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("echo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_flag:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("boolean")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-f")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_string:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("string")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("--example-string")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_int:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("int")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-i")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("separate:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_file:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File?")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("--file=")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("separate:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("[]")]),s._v("\n")])]),a("h3",[s._v("5.1. "),a("a",{attrs:{name:"Types"}}),s._v("Types")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("boolean, string, int, long, float, double, null")])]),a("li",[s._v("complex types are: "),a("code",{pre:!0},[s._v("array record")])]),a("li",[s._v("special types: "),a("code",{pre:!0},[s._v("File, Directory, Any")])])]),a("h3",[s._v("5.2. "),a("a",{attrs:{name:"Commandrun"}}),s._v("Command run")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("$ touch whale.txt\n$ cwl-runner inp.cwl inp-job.yml\n[job inp.cwl] /tmp/tmpzrSnfX$ "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("echo")]),s._v(" \\\n    -f \\\n    -i42 \\\n    --example-string \\\n    hello \\\n    --file=/tmp/tmpRBSHIG/stg979b6d24-d50a-47e3-9e9e-90097eed2cbc/whale.txt\n-f -i42 --example-string hello --file=/tmp/tmpRBSHIG/stg979b6d24-d50a-47e3-9e9e-90097eed2cbc/whale.txt\n[job inp.cwl] completed success\n{}\nFinal process status is success\n")])]),a("h3",[s._v("5.3. "),a("a",{attrs:{name:"tmpdirs"}}),s._v("tmp dirs")]),a("ul",[a("li",[s._v("CWL auto makes soft links and directories for your inputs when run")])]),a("h3",[s._v("5.4. "),a("a",{attrs:{name:"inputBindings"}}),s._v("inputBindings")]),a("ul",[a("li",[s._v("Needed for specifying input for cmd that's run")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-i")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("separate:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n")])]),a("ul",[a("li",[a("p",[s._v("Seperate")]),a("ul",[a("li",[s._v("When Seperate is false (the default value is true), the prefix and value are combined into a single argument.")]),a("li",[s._v("In the example above, this is rendered as -i42.")])])]),a("li",[a("p",[s._v("Optional")]),a("ul",[a("li",[s._v("File types appear on the command line as the path to the file.")]),a("li",[s._v("When the parameter type ends with a question mark ? it indicates that the parameter is optional")])])]),a("li",[a("p",[s._v("Input files are read-only. If you wish to update an input file, you must first copy it to the output directory.")]),a("ul",[a("li",[a("a",{attrs:{href:"https://www.commonwl.org/user_guide/15-staging/"}},[s._v("Staging input files")])])])])]),a("h2",[s._v("6. "),a("a",{attrs:{name:"Withoutput"}}),s._v("With output")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#!/usr/bin/env cwl-runner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("[tar,")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("--extract]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tarfile:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("--file")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_out:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputBinding:")]),s._v("\n\t  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("glob:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("hello.txt")]),s._v("\n")])]),a("p",[s._v("See "),a("code",{pre:!0},[s._v("tarfile")]),s._v(" links ot someting in the input.yml")]),a("p",[s._v("input.yml")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tarfile:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("hello.tar")]),s._v("\n")])]),a("h3",[s._v("6.1. "),a("a",{attrs:{name:"Outputresponse"}}),s._v("Output response")]),a("p",[s._v("We can see a json like response when running it")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"example_out"')]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"location"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"file:///home/me/cwl/user_guide/hello.txt"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"basename"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"hello.txt"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"class"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"File"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"checksum"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"sha1$da39a3ee5e6b4b0d3255bfef95601890afd80709"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"size"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"path"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/me/cwl/user_guide/hello.txt"')]),s._v("\n    }\n}\n")])]),a("h3",[s._v("6.2. "),a("a",{attrs:{name:"Outputbinding"}}),s._v("Output binding")]),a("ul",[a("li",[s._v("See the output binding -- it specifies how to set the value for the output param.")]),a("li",[s._v("If you don’t know name of the file in advance, you can use a wildcard pattern like glob: '*.txt'.")]),a("li",[a("code",{pre:!0},[s._v("Make sure to use the quotations")])])]),a("h2",[s._v("7. "),a("a",{attrs:{name:"Variableinputoutput"}}),s._v("Variable input/output")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#!/usr/bin/env cwl-runner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("[tar,")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("--extract]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tarfile:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("--file")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("extractfile:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("string")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("extracted_file:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputBinding:")]),s._v("\n\t  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("glob:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("$(inputs.extractfile)")]),s._v("\n")])]),a("p",[s._v("References are written using a subset of Javascript syntax. In this example: - "),a("code",{pre:!0},[s._v("$(inputs.extractfile)")]),s._v(" - "),a("code",{pre:!0},[s._v('$(inputs["extractfile"])')]),s._v(" - "),a("code",{pre:!0},[s._v("$(inputs['extractfile'])")])]),a("p",[s._v("are equivalent")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v("tar \\\n    --extract \\\n    --file \\\n    /private/tmp/docker_tmpdr0miwq6/stg46b34858-dfa4-4f8b-9c05-18d48b936b05/hello.tar \\\n    goodbye.txt\n")])]),a("ul",[a("li",[s._v("See "),a("a",{attrs:{href:"https://www.commonwl.org/user_guide/06-params/index.html"}},[s._v("Parameter References")]),s._v(" to see where they can be used")])]),a("h2",[s._v("8. "),a("a",{attrs:{name:"DockerIntegration"}}),s._v("Docker Integration")]),a("ul",[a("li",[a("a",{attrs:{href:"https://www.commonwl.org/user_guide/07-containers/index.html"}},[s._v("See Guide")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#!/usr/bin/env cwl-runner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("node")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hints:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("DockerRequirement:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("dockerPull:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("node:slim")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_out:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("stdout")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("stdout:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("output.txt")]),s._v("\n")])]),a("p",[s._v("See hints.. specifies how to pull which docker images etc")]),a("p",[s._v("But does is the base command running it via docker?")]),a("p",[s._v("Let's see the cmd")]),a("h3",[s._v("8.1. "),a("a",{attrs:{name:"Dockercmd"}}),s._v("Docker cmd")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("/private/tmp/docker_tmpsw188zwp$ docker \\\n    run \\\n    -i \\\n    --mount="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("bind")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("source")]),s._v("=/private/tmp/docker_tmpsw188zwp,target=/KmApER \\\n    --mount="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("bind")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("source")]),s._v("=/private/tmp/docker_tmptjva62oi,target=/tmp \\\n    --mount="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("bind")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("source")]),s._v("=//path/to/cwltutorial/tuts/05_docker/hello.js,target=/var/lib/cwl/stg4e39a604-8265-4267-9423-95dd7f1d0e28/hello.js,"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("readonly")]),s._v(" \\\n    --workdir=/KmApER \\\n    --"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("read")]),s._v("-only="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" \\\n    --"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("log")]),s._v("-driver=none \\\n    --user=502:20 \\\n    --rm \\\n    --env=TMPDIR=/tmp \\\n    --env=HOME=/KmApER \\\n    --cidfile=/private/tmp/docker_tmplw0gp6hm/20201118133854-412035.cid \\\n    node:slim \\\n    node \\\n    /var/lib/cwl/stg4e39a604-8265-4267-9423-95dd7f1d0e28/hello.js > /private/tmp/docker_tmpsw188zwp/output.txt\n")])]),a("p",[s._v("Interesting so it wraps it in a docker run command...")]),a("h2",[s._v("9. "),a("a",{attrs:{name:"Moreargs"}}),s._v("More args")]),a("p",[s._v("Let's look at this example which adds "),a("code",{pre:!0},[s._v("arguments")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#!/usr/bin/env cwl-runner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("label:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Example")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("trivial")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("wrapper")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("compiler")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hints:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("DockerRequirement:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("dockerPull:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("openjdk:9.0.1-11-slim")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("javac")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("arguments:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('["-d",')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("$(runtime.outdir)]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("classfile:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputBinding:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("glob:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"*.class"')]),s._v("\n")])]),a("p",[s._v("What's hapening here.. we can see "),a("code",{pre:!0},[s._v("arguments")]),s._v(" set and we know that")]),a("p",[s._v("By default, “javac” will create the class files in the same directory as the source file. However, CWL input files (and the directories in which they appear) may be read-only, so we need to instruct “javac” to write the class file to the designated output directory instead")]),a("p",[s._v("input")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("File")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Hello.java")]),s._v("\n")])]),a("p",[s._v("Lets look at the cmd run")]),a("h3",[s._v("9.1. "),a("a",{attrs:{name:"CmdRun"}}),s._v("Cmd Run")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("INFO [job 06.cwl] /private/tmp/docker_tmp7q4r809h$ docker \\\n    run \\\n    -i \\\n    --mount="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("bind")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("source")]),s._v("=/private/tmp/docker_tmp7q4r809h,target=/JjyfJL \\\n    --mount="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("bind")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("source")]),s._v("=/private/tmp/docker_tmpfv3_coga,target=/tmp \\\n    --mount="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("bind")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("source")]),s._v("=/path/to/cwltutorial/tuts/06_more_args/Hello.java,target=/var/lib/cwl/stg503694b7-537e-42b8-adaa-e093e9398357/Hello.java,"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("readonly")]),s._v(" \\\n    --workdir=/JjyfJL \\\n    --"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("read")]),s._v("-only="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" \\\n    --user=502:20 \\\n    --rm \\\n    --env=TMPDIR=/tmp \\\n    --env=HOME=/JjyfJL \\\n    --cidfile=/private/tmp/docker_tmpt2i8su7z/20201118135003-537210.cid \\\n    openjdk:9.0.1-11-slim \\\n    javac \\\n    -d \\\n    /JjyfJL \\\n    /var/lib/cwl/stg503694b7-537e-42b8-adaa-e093e9398357/Hello.java\nINFO [job 06.cwl] Max memory used: 0MiB\nINFO [job 06.cwl] completed success\n{\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"classfile"')]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"location"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"file:///path/to/cwltutorial/tuts/06_more_args/Hello.class"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"basename"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Hello.class"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"class"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"File"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"checksum"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"sha1'),a("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$fdb876b40ad9ebc7fee873212e02d5940588642e")]),s._v('"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"size"')]),s._v(": 184,\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"path"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/path/to/cwltutorial/tuts/06_more_args/Hello.class"')]),s._v("\n    }\n}\n")])]),a("h2",[s._v("10. "),a("a",{attrs:{name:"GroupingInputs"}}),s._v("Grouping Inputs")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#!/usr/bin/env cwl-runner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("dependent_parameters:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("record")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("dependent_parameters")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fields:")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("itemA:")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("string")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-A")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("itemB:")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("string")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-B")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("exclusive_parameters:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("record")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("itemC")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fields:")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("itemC:")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("string")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-C")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("record")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("itemD")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fields:")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("itemD:")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("string")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputBinding:")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-D")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_out:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("stdout")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("stdout:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("output.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("echo")]),s._v("\n\n")])]),a("p",[s._v("Here we see the "),a("code",{pre:!0},[s._v("record")]),s._v(" type used and inside is defined some "),a("code",{pre:!0},[s._v("fields")]),s._v(" which are required")]),a("p",[s._v("So the input can be supplied as such")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("dependent_parameters:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("itemA:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("one")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("itemB:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("two")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("exclusive_parameters:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("itemD:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("four")]),s._v("\n")])]),a("p",[s._v("Cmd Run")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("$ cwl-runner record.cwl record-job3.yml\n[job record.cwl] /home/example$ "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("echo")]),s._v(" \\\n   -A \\\n   one \\\n   -B \\\n   two \\\n   -D \\\n   four > /home/example/output.txt\n[job record.cwl] completed success\n{\n   "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"example_out"')]),s._v(": {\n       "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"location"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"file:///home/example/output.txt"')]),s._v(",\n       "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"basename"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"output.txt"')]),s._v(",\n       "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"class"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"File"')]),s._v(",\n       "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"checksum"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"sha1'),a("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$77f572b28e441240a5e30eb14f1d300bcc13a3b4")]),s._v('"')]),s._v(",\n       "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"size"')]),s._v(": 22,\n       "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"path"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/example/output.txt"')]),s._v("\n   }\n}\nFinal process status is success\n$ cat output.txt\n-A one -B two -D four\n")])]),a("p",[s._v("Multiple records within the same parameter description are treated as exclusive.")]),a("h2",[s._v("11. "),a("a",{attrs:{name:"EnvironmentVariables"}}),s._v("Environment Variables")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#!/usr/bin/env cwl-runner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("env")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("requirements:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("EnvVarRequirement:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("envDef:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("HELLO:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("$(inputs.message)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("string")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_out:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("stdout")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("stdout:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("output.txt")]),s._v("\n\n")])]),a("p",[s._v("See this "),a("code",{pre:!0},[s._v("requirements")]),s._v(" section")]),a("p",[s._v("Tools run in a restricted environment and do not inherit most environment variables from the parent process. You can set environment variables for the tool using EnvVarRequirement.")]),a("h2",[s._v("12. "),a("a",{attrs:{name:"EnvVariables"}}),s._v("Env Variables")]),a("ul",[a("li",[a("a",{attrs:{href:"https://www.commonwl.org/user_guide/12-env/index.html"}},[s._v("https://www.commonwl.org/user_guide/12-env/index.html")])])]),a("h2",[s._v("13. "),a("a",{attrs:{name:"JavscriptExpressions"}}),s._v("Javscript Expressions")]),a("ul",[a("li",[a("a",{attrs:{href:"https://www.commonwl.org/user_guide/13-expressions/index.html"}},[s._v("https://www.commonwl.org/user_guide/13-expressions/index.html")])])]),a("h3",[s._v("13.1. "),a("a",{attrs:{name:"Whentouse"}}),s._v("When to use")]),a("p",[s._v("Note: JavaScript expressions should only be used when absolutely necessary. When manipulating file names, extensions, paths etc, consider whether one of the built in File properties like basename, nameroot, nameext, etc, could be used instead. See the list of recommended practices.")]),a("p",[s._v("Expressions should only be used when no built in CWL solution exists.")]),a("h3",[s._v("13.2. "),a("a",{attrs:{name:"Example"}}),s._v("Example")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#!/usr/bin/env cwl-runner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("echo")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("requirements:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("InlineJavascriptRequirement:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("[]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_out:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("stdout")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("stdout:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("output.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("arguments:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-A")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("valueFrom:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("$(1+1)")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-B")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("valueFrom:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("$(\"/foo/bar/baz\".split('/').slice(-1)[0])")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prefix:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("-C")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("valueFrom:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("|\n      ${\n        var r = [];\n        for (var i = 10; i >= 1; i--) {\n          r.push(i);\n        }\n        return r;\n      }\n")])])]),a("p",[s._v("Hmm Interesting..")]),a("h3",[s._v("13.3. "),a("a",{attrs:{name:"Letsmodifythejstoseewhatwecando"}}),s._v("Lets modify the js to see what we can do")]),a("p",[s._v("let + console.log?")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" r = [];\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" i = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v("; i >= "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("; i--) {\n            "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(i);\n          r.push(i);\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" r;\n")])]),a("p",[s._v("And I got this")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("WARNING 11.cwl:21:5: JSHINT:   "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("let")]),s._v(" r = [];\n11.cwl:21:5: JSHINT:   ^\n11.cwl:21:5: JSHINT: W104: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'let'")]),s._v(" is available "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" ES. CWL only supports ES5.1\nWARNING 11.cwl:21:5: JSHINT:   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("for")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("let")]),s._v(" i = 10; i >= 1; i--) {\n11.cwl:21:5: JSHINT:        ^\n11.cwl:21:5: JSHINT: W104: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'let'")]),s._v(" is available "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("in")]),s._v(" ES. CWL only supports ES5.1\n")])]),a("ul",[a("li",[s._v("ES5.1: "),a("a",{attrs:{href:"https://www.ecma-international.org/ecma-262/5.1/"}},[s._v("https://www.ecma-international.org/ecma-262/5.1/")])])]),a("h2",[s._v("14. "),a("a",{attrs:{name:"CreatingFilesatRuntime"}}),s._v("Creating Files at Runtime")]),a("ul",[a("li",[a("a",{attrs:{href:"https://www.commonwl.org/user_guide/14-runtime/index.html"}},[s._v("https://www.commonwl.org/user_guide/14-runtime/index.html")])])]),a("h3",[s._v("14.1. "),a("a",{attrs:{name:"Example-1"}}),s._v("Example")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yaml"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("CommandLineTool")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cwlVersion:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("v1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseCommand:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('["sh",')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"example.sh"')]),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("requirements:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("InitialWorkDirRequirement:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("listing:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("entryname:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("example.sh")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("entry:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("|-\n          PREFIX='Message is:'\n          MSG=\"\\${PREFIX} $(inputs.message)\"\n          echo \\${MSG}\n")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("string")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("outputs:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("example_out:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("stdout")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("stdout:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("output.txt")]),s._v("\n")])]),a("p",[s._v("See the "),a("code",{pre:!0},[s._v("requirements")]),s._v(" section and using "),a("code",{pre:!0},[s._v("InitialWorkDirRequirement")])]),a("h3",[s._v("14.2. "),a("a",{attrs:{name:"PipeoperatorinYaml"}}),s._v("Pipe operator in Yaml")]),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.noizwaves.io/2019/08/19/how-i-learned-what-does-the-pipe-mean-in-that-yaml.html"}},[s._v("https://blog.noizwaves.io/2019/08/19/how-i-learned-what-does-the-pipe-mean-in-that-yaml.html")])])]),a("p",[s._v("What's going on?")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":""}},[s._v('baseCommand: ["sh", "example.sh"]\n')])]),a("p",[s._v("So it'll run "),a("code",{pre:!0},[s._v("sh example.sh")]),s._v("...")])])}],n=a("2877"),l={},p=Object(n["a"])(l,r,e,!1,null,null,null);t["default"]=p.exports}}]);