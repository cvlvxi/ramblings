(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da75f"],{"6c62":function(s,r,a){"use strict";a.r(r);var t=function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("section",[a("h1",[s._v("Luma.GL")]),s._m(0),a("p",[s._v("Hello World. Welcome to a series about Luma.GL. A Web GL wrapper that allows you to use WebGL2 without worry!")]),s._m(1),s._m(2),s._m(3),a("pinch-zoom",[a("img",{attrs:{src:"https://imgur.com/vDAjxOL.png"}})]),a("hr"),s._m(4),s._m(5),s._m(6),a("p",[s._v("Example:")]),s._m(7),s._m(8),s._m(9),s._m(10),a("p",[s._v("Resulting in the following")]),a("img",{attrs:{src:"https://imgur.com/LYLZm7a.png"}}),a("hr"),s._m(11),s._m(12),a("p",[s._v("Example Instance Triangles")]),s._m(13),s._m(14),a("hr"),s._m(15),a("p",[s._v("Via luma.gl's modules such as `shadertools, gltools, debug")]),a("p",[s._v("Example")]),s._m(16),s._m(17),a("hr"),s._m(18),s._m(19),a("img",{attrs:{src:"https://i.imgur.com/IMCfbZI.png"}}),a("hr"),s._m(20),a("p",[s._v("Modify the behaviour of a shader via functions that will hook into the shader code")]),s._m(21),s._m(22),a("hr"),s._m(23),a("p",[s._v("Get access to the canvas and context via")]),s._m(24),a("p",[s._v("Don't let it construct the Context for you but rather supply it and target the canvas id")]),a("hr"),s._m(25),s._m(26)],1)},e=[function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("ul",[a("li",[a("a",{attrs:{href:"#Links"}},[s._v("Links")])]),a("li",[a("a",{attrs:{href:"#BasicArchitecture"}},[s._v("Basic Architecture")])]),a("li",[a("a",{attrs:{href:"#DealingwithGPUindifferentlevels"}},[s._v("Dealing with GPU in different levels")]),a("ul",[a("li",[a("a",{attrs:{href:"#Higher"}},[s._v("Higher")]),a("ul",[a("li",[a("a",{attrs:{href:"#Instancing"}},[s._v("Instancing")])])])]),a("li",[a("a",{attrs:{href:"#MidWebGLWrapperClass"}},[s._v("Mid (WebGL Wrapper Class)")])]),a("li",[a("a",{attrs:{href:"#LowDirectWebGLAPI"}},[s._v("Low (Direct WebGL API)")])])])]),a("li",[a("a",{attrs:{href:"#Debugging"}},[s._v("Debugging")])]),a("li",[a("a",{attrs:{href:"#ShaderHooks"}},[s._v("Shader Hooks")])]),a("li",[a("a",{attrs:{href:"#HowtoaccesstheCanvas"}},[s._v("How to access the Canvas")])]),a("li",[a("a",{attrs:{href:"#HowtostoptheGPUrenderinginVuewhenswitchingcontext"}},[s._v("How to stop the GPU rendering in Vue when switching context")])])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h2",[a("a",{attrs:{name:"Links"}}),s._v("Links")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("ul",[a("li",[a("a",{attrs:{href:"https://luma.gl/"}},[s._v("Official Documentation")])])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h2",[a("a",{attrs:{name:"BasicArchitecture"}}),s._v("Basic Architecture")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h2",[a("a",{attrs:{name:"DealingwithGPUindifferentlevels"}}),s._v("Dealing with GPU in different levels")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h3",[a("a",{attrs:{name:"Higher"}}),s._v("Higher")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("p",[s._v("Via "),a("code",{pre:!0},[s._v("engine, webgl")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" {AnimationLoop, Model} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@luma.gl/engine'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" {Buffer, clear} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@luma.gl/webgl'")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" colorShaderModule = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'color'")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("vs")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n    varying vec3 color_vColor;\n\n    void color_setColor(vec3 color) {\n      color_vColor = color;\n    }\n  `")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fs")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n    varying vec3 color_vColor;\n\n    vec3 color_getColor() {\n      return color_vColor;\n    }\n  `")]),s._v("\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" loop = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" AnimationLoop({\n  onInitialize({gl}) {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" positionBuffer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Buffer(gl, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.2")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.2")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.2")]),s._v("\n    ]));\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" colorBuffer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Buffer(gl, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v("\n    ]));\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" offsetBuffer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Buffer(gl, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",  "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v("\n    ]));\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" model = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Model(gl, {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("vs")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n        attribute vec2 position;\n        attribute vec3 color;\n        attribute vec2 offset;\n\n        void main() {\n          color_setColor(color);\n          gl_Position = vec4(position + offset, 0.0, 1.0);\n        }\n      `")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fs")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n        void main() {\n          gl_FragColor = vec4(color_getColor(), 1.0);\n        }\n      `")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("modules")]),s._v(": [colorShaderModule],\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("attributes")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position")]),s._v(": positionBuffer,\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": [colorBuffer, {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("divisor")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("}],\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("offset")]),s._v(": [offsetBuffer, {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("divisor")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("}]\n      },\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("vertexCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("instanceCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("instanced")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n    });\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {model};\n  },\n\n  onRender({gl, model}) {\n    clear(gl, {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("]});\n    model.draw();\n  }\n});\n\nloop.start();\n")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("ol",[a("li",[s._v("Shaders can be added to a "),a("code",{pre:!0},[s._v("Model")]),s._v(" object under "),a("code",{pre:!0},[s._v("modules")])]),a("li",[s._v("Shader Object contains "),a("code",{pre:!0},[s._v("name, vs, fs")]),s._v(" and in the example colorShaderModule defines some glsl functions and varyings")]),a("li",[s._v("See the models "),a("code",{pre:!0},[s._v("vs and fs")]),s._v(" uses "),a("code",{pre:!0},[s._v("color_setColor and color_getColor")])])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h4",[a("a",{attrs:{name:"Instancing"}}),s._v("Instancing")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("ol",[a("li",[s._v("With the offsetBuffer we describe where on the canvas we're going to instance the triangles")]),a("li",[s._v("The vertexShader gets the offset and adds it to the position and the model takes a "),a("code",{pre:!0},[s._v("offset")]),s._v(" attribute and "),a("code",{pre:!0},[s._v("instanceCount")])]),a("li",[s._v("divisor: 1 is the "),a("code",{pre:!0},[s._v("accessor")]),s._v(" how the buffer is traversed during a draw")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h3",[a("a",{attrs:{name:"MidWebGLWrapperClass"}}),s._v("Mid (WebGL Wrapper Class)")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("p",[s._v("Via luma.gl's module "),a("code",{pre:!0},[s._v("webgl")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { AnimationLoop } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@luma.gl/engine"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { Buffer, clear, Program, VertexArray } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@luma.gl/webgl"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { assembleShaders } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@luma.gl/shadertools"')]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" colorShaderModule = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"color"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("vs")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n    varying vec3 color_vColor;\n\n    void color_setColor(vec3 color) {\n      color_vColor = color;\n    }\n  `")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fs")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n    varying vec3 color_vColor;\n\n    vec3 color_getColor() {\n      return color_vColor;\n    }\n  `")]),s._v(",\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" loop = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" AnimationLoop({\n  onInitialize({ gl }) {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" positionBuffer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Buffer(\n      gl,\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.2")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.2")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.2")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.2")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.2")]),s._v(",\n      ]),\n    );\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" colorBuffer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Buffer(\n      gl,\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n      ]),\n    );\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" offsetBuffer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Buffer(\n      gl,\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n      ]),\n    );\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" vs = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n      attribute vec2 position;\n      attribute vec3 color;\n      attribute vec2 offset;\n\n      void main() {\n        color_setColor(color);\n        gl_Position = vec4(position + offset, 0.0, 1.0);\n      }\n    `")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" fs = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n      void main() {\n        gl_FragColor = vec4(color_getColor(), 1.0);\n      }\n    `")]),s._v(";\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" assembled = assembleShaders(gl, {\n      vs,\n      fs,\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("modules")]),s._v(": [colorShaderModule],\n    });\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" program = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Program(gl, assembled);\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" vertexArray = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" VertexArray(gl, {\n      program,\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("attributes")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position")]),s._v(": positionBuffer,\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": [colorBuffer, { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("divisor")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" }],\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("offset")]),s._v(": [offsetBuffer, { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("divisor")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" }],\n      },\n    });\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { program, vertexArray };\n  },\n\n  onRender({ gl, program, vertexArray }) {\n    clear(gl, { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("] });\n    program.draw({\n      vertexArray,\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("vertexCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("instanceCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v(",\n    });\n  },\n});\n\nloop.start();\n\n")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("ol",[a("li",[s._v("Here we don't have the handle "),a("code",{pre:!0},[s._v("Model")]),s._v(" class and must assembly everything ourselves")]),a("li",[a("code",{pre:!0},[s._v("assembleShaders")]),s._v(" will create a shader composition")]),a("li",[s._v("We must "),a("code",{pre:!0},[s._v("create a new Program")]),s._v(" and attach the assembled shaders")]),a("li",[s._v("Instead of having a model with the position, color, vertices Buffers we use a "),a("code",{pre:!0},[s._v("VertexArray")]),s._v(" object "),a("ul",[a("li",[s._v("takes a program and thhese are attributes")])])]),a("li",[s._v("The draw call is delegated to the "),a("code",{pre:!0},[s._v("program")]),s._v(" instead of the Model")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h3",[a("a",{attrs:{name:"LowDirectWebGLAPI"}}),s._v("Low (Direct WebGL API)")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { polyfillContext } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@luma.gl/gltools"')]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" canvas = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".createElement("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"canvas"')]),s._v(");\ncanvas.width = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("800")]),s._v(";\ncanvas.height = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("600")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".body.appendChild(canvas);\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" gl = polyfillContext(canvas.getContext("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"webgl"')]),s._v("));\ngl.clearColor("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" vs = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n  attribute vec2 position;\n  attribute vec3 color;\n  attribute vec2 offset;\n\n  varying vec3 vColor;\n\n  void main() {\n    vColor = color;\n    gl_Position = vec4(position + offset, 0.0, 1.0);\n  }\n`")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" fs = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n  precision highp float;\n\n  varying vec3 vColor;\n\n  void main() {\n    gl_FragColor = vec4(vColor, 1.0);\n  }\n`")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" vShader = gl.createShader(gl.VERTEX_SHADER);\ngl.shaderSource(vShader, vs);\ngl.compileShader(vShader);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" fShader = gl.createShader(gl.FRAGMENT_SHADER);\ngl.shaderSource(fShader, fs);\ngl.compileShader(fShader);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" program = gl.createProgram();\ngl.attachShader(program, vShader);\ngl.attachShader(program, fShader);\ngl.linkProgram(program);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" vertexArray = gl.createVertexArray();\ngl.bindVertexArray(vertexArray);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" positionBuffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\ngl.bufferData(\n  gl.ARRAY_BUFFER,\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.2")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.2")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.2")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.2")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.2")]),s._v(",\n  ]),\n  gl.STATIC_DRAW,\n);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" positionLocation = gl.getAttribLocation(program, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"position"')]),s._v(");\ngl.vertexAttribPointer(positionLocation, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", gl.FLOAT, "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(");\ngl.enableVertexAttribArray(positionLocation);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" colorBuffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, colorBuffer);\ngl.bufferData(\n  gl.ARRAY_BUFFER,\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n  ]),\n  gl.STATIC_DRAW,\n);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" colorLocation = gl.getAttribLocation(program, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"color"')]),s._v(");\ngl.vertexAttribPointer(colorLocation, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", gl.FLOAT, "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(");\ngl.vertexAttribDivisor(colorLocation, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\ngl.enableVertexAttribArray(colorLocation);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" offsetBuffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, offsetBuffer);\ngl.bufferData(\n  gl.ARRAY_BUFFER,\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n  ]),\n  gl.STATIC_DRAW,\n);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" offsetLocation = gl.getAttribLocation(program, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"offset"')]),s._v(");\ngl.vertexAttribPointer(offsetLocation, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", gl.FLOAT, "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(");\ngl.vertexAttribDivisor(offsetLocation, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\ngl.enableVertexAttribArray(offsetLocation);\n\ngl.bindVertexArray("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(");\n\nrequestAnimationFrame("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("draw")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n  requestAnimationFrame(draw);\n\n  gl.clear(gl.COLOR_BUFFER_BIT);\n  gl.bindVertexArray(vertexArray);\n  gl.useProgram(program);\n  gl.drawArraysInstanced(gl.TRIANGLES, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v(");\n});\n")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("ol",[a("li",[s._v("Here we can use pure webgl calls except that we create the WebGL2 context via the "),a("code",{pre:!0},[s._v("polyfillContext")])]),a("li",[s._v("We setup the canvas ourselves giving us that control")]),a("li",[s._v("We do the calls to requestAnimationFrame etc")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h2",[a("a",{attrs:{name:"Debugging"}}),s._v("Debugging")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("p",[s._v("set in the debug console in your browser: "),a("code",{pre:!0},[s._v("luma.log.level = 3")]),s._v(" -- then when rendering luma you'll see..")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h2",[a("a",{attrs:{name:"ShaderHooks"}}),s._v("Shader Hooks")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { AnimationLoop, Model, ProgramManager } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@luma.gl/engine"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { Buffer, clear } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@luma.gl/webgl"')]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" vs = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n  attribute vec2 position;\n\n  void main() {\n    gl_Position = vec4(position, 0.0, 1.0);\n    OFFSET_POSITION(gl_Position);\n  }\n`")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" fs = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n  uniform vec3 color;\n\n  void main() {\n    gl_FragColor = vec4(color, 1.0);\n  }\n`")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" offsetLeftModule = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"offsetLeft"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inject")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vs:OFFSET_POSITION"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"position.x -= 0.5;"')]),s._v(",\n  },\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" offsetRightModule = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"offsetRight"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("inject")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vs:OFFSET_POSITION"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"position.x += 0.5;"')]),s._v(",\n  },\n};\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" loop = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" AnimationLoop({\n  onInitialize({ gl }) {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" programManager = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" ProgramManager(gl);\n    programManager.addShaderHook("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vs:OFFSET_POSITION(inout vec4 position)"')]),s._v(");\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" positionBuffer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Buffer(\n      gl,\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Float32Array")]),s._v("([\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.3")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.3")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.5")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(",\n      ]),\n    );\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" model1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Model(gl, {\n      vs,\n      fs,\n      programManager,\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("modules")]),s._v(": [offsetLeftModule],\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("attributes")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position")]),s._v(": positionBuffer,\n      },\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("uniforms")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v("],\n      },\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("vertexCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(",\n    });\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" model2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" Model(gl, {\n      vs,\n      fs,\n      programManager,\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("modules")]),s._v(": [offsetRightModule],\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("attributes")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("position")]),s._v(": positionBuffer,\n      },\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("uniforms")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v("],\n      },\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("vertexCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(",\n    });\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { model1, model2 };\n  },\n\n  onRender({ gl, model1, model2 }) {\n    clear(gl, { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("] });\n    model1.draw();\n    model2.draw();\n  },\n});\n\nloop.start();\n\n")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("ol",[a("li",[s._v("A "),a("code",{pre:!0},[s._v("ProgramManager")]),s._v(" will exposed a shader hook")]),a("li",[s._v("Then we create a Shader Module with an "),a("code",{pre:!0},[s._v("inject")]),s._v(" attribute to inject the code")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h2",[a("a",{attrs:{name:"HowtoaccesstheCanvas"}}),s._v("How to access the Canvas")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { instrumentGLContext } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@luma.gl/gltools"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" canvas = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"helloworld"')]),s._v(");\ncanvas.width = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("800")]),s._v(";\ncanvas.height = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("600")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" gl = instrumentGLContext(canvas.getContext("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"webgl"')]),s._v("));\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" animationLoop = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" AppAnimationLoop({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("gl")]),s._v(": gl });\nanimationLoop.start({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("canvas")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"helloworld"')]),s._v(" });\n")])])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("h2",[a("a",{attrs:{name:"HowtostoptheGPUrenderinginVuewhenswitchingcontext"}}),s._v("How to stop the GPU rendering in Vue when switching context")])},function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" AppAnimationLoop "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"./app2.js"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { instrumentGLContext } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@luma.gl/gltools"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" mounted() {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" canvas = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".getElementById("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"helloworld"')]),s._v(");\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" gl = instrumentGLContext(canvas.getContext("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"webgl"')]),s._v("));\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".animationLoop = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" AppAnimationLoop({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("gl")]),s._v(": gl });\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".animationLoop.start({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("canvas")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"helloworld"')]),s._v(" });\n  },\n  destroyed() {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".animationLoop.stop();\n  },\n  data() {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("animationLoop")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n    };\n  }\n")])])}],n=a("2877"),l={},v=Object(n["a"])(l,t,e,!1,null,null,null);r["default"]=v.exports}}]);