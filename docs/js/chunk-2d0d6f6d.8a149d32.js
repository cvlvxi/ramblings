(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6f6d"],{7592:function(s,a,t){"use strict";t.r(a);var e=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("ul",[t("li",[t("ol",[t("li",[t("a",{attrs:{href:"#Links"}},[s._v("Links")])])])]),t("li",[t("ol",{attrs:{start:"2"}},[t("li",[t("a",{attrs:{href:"#GetChromeCanary"}},[s._v("Get Chrome Canary")])])])]),t("li",[t("ol",{attrs:{start:"3"}},[t("li",[t("a",{attrs:{href:"#Dotheexampleswork"}},[s._v("Do the examples work?")])])])]),t("li",[t("ol",{attrs:{start:"4"}},[t("li",[t("a",{attrs:{href:"#CanvasTargetting"}},[s._v("Canvas Targetting")])])])]),t("li",[t("ol",{attrs:{start:"5"}},[t("li",[t("a",{attrs:{href:"#Initalisation"}},[s._v("Initalisation")])])]),t("ul",[t("li",[s._v("5.1. "),t("a",{attrs:{href:"#SetupAdapterandDevice"}},[s._v("Setup Adapter and Device")])]),t("li",[s._v("5.2. "),t("a",{attrs:{href:"#Swapchain"}},[s._v("Swap chain")])]),t("li",[s._v("5.3. "),t("a",{attrs:{href:"#Pipeline"}},[s._v("Pipeline")])]),t("li",[s._v("5.4. "),t("a",{attrs:{href:"#Shaders"}},[s._v("Shaders")])])])]),t("li",[t("ol",{attrs:{start:"6"}},[t("li",[t("a",{attrs:{href:"#BabylonJSWebGPU"}},[s._v("BabylonJS + WebGPU")])])])])]),t("h1",[s._v("WebGPU Intro")]),t("h2",[s._v("1. "),t("a",{attrs:{name:"Links"}}),s._v("Links")]),t("ul",[t("li",[t("a",{attrs:{href:"https://www.willusher.io/graphics/2020/06/15/0-to-gltf-triangle"}},[s._v("https://www.willusher.io/graphics/2020/06/15/0-to-gltf-triangle")])]),t("li",[t("a",{attrs:{href:"https://github.com/gpuweb/gpuweb/wiki/Implementation-Status"}},[s._v("GPUWeb Implementations")])]),t("li",[t("a",{attrs:{href:"https://developers.google.com/web/updates/2019/08/get-started-with-gpu-compute-on-the-web"}},[s._v("https://developers.google.com/web/updates/2019/08/get-started-with-gpu-compute-on-the-web")])]),t("li",[t("a",{attrs:{href:"https://austineng.github.io/webgpu-samples/?wgsl=0#helloTriangle"}},[s._v("Web GPU Samples")])])]),t("h2",[s._v("2. "),t("a",{attrs:{name:"GetChromeCanary"}}),s._v("Get Chrome Canary")]),t("p",[s._v("And enable webgpu experimental flag")]),t("p",[s._v("Go to "),t("a",{attrs:{href:"chrome://flags/#enable-unsafe-webgpu"}},[s._v("chrome://flags/#enable-unsafe-webgpu")])]),t("h2",[s._v("3. "),t("a",{attrs:{name:"Dotheexampleswork"}}),s._v("Do the examples work?")]),t("ul",[t("li",[s._v("https://austineng.github.io/webgpu-samples/?wgsl=0#helloTriangle")])]),t("h2",[s._v("4. "),t("a",{attrs:{name:"CanvasTargetting"}}),s._v("Canvas Targetting")]),t("p",[s._v("We can use webgpu and target the canvas similar to webgl / webgl2")]),t("p",[s._v("context: "),t("code",{pre:!0},[s._v("gpupresent")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" canvas = "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".createElement("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'canvas'")]),s._v(");\n\t"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" context = canvas.getContext("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"gpupresent"')]),s._v(");\n")])]),t("h2",[s._v("5. "),t("a",{attrs:{name:"Initalisation"}}),s._v("Initalisation")]),t("h3",[s._v("5.1. "),t("a",{attrs:{name:"SetupAdapterandDevice"}}),s._v("Setup Adapter and Device")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" adapter = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" navigator.gpu.requestAdapter();\n  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" device = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" adapter.requestDevice();\n  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" glslang = "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" glslangModule();\n")])]),t("ul",[t("li",[s._v("See "),t("a",{attrs:{href:"https://gpuweb.github.io/gpuweb/#adapters"}},[s._v("docs")])])]),t("h3",[s._v("5.2. "),t("a",{attrs:{name:"Swapchain"}}),s._v("Swap chain")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" swapChainFormat = "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"bgra8unorm"')]),s._v(";\n\n  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" swapChain = context.configureSwapChain({\n    device,\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("format")]),s._v(": swapChainFormat,\n  });\n")])]),t("h3",[s._v("5.3. "),t("a",{attrs:{name:"Pipeline"}}),s._v("Pipeline")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" pipeline = device.createRenderPipeline({\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("vertexStage")]),s._v(": {\n      "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(": useWGSL\n        ? device.createShaderModule({\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("code")]),s._v(": wgslShaders.vertex,\n          })\n        : device.createShaderModule({\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("code")]),s._v(": glslShaders.vertex,\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("transform")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("glsl")]),s._v(") =>")]),s._v(" glslang.compileGLSL(glsl, "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vertex"')]),s._v("),\n          }),\n      "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("entryPoint")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"main"')]),s._v(",\n    },\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fragmentStage")]),s._v(": {\n      "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(": useWGSL\n        ? device.createShaderModule({\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("code")]),s._v(": wgslShaders.fragment,\n          })\n        : device.createShaderModule({\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("code")]),s._v(": glslShaders.fragment,\n            "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("transform")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("glsl")]),s._v(") =>")]),s._v(" glslang.compileGLSL(glsl, "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fragment"')]),s._v("),\n          }),\n      "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("entryPoint")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"main"')]),s._v(",\n    },\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("primitiveTopology")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"triangle-list"')]),s._v(",\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("colorStates")]),s._v(": [\n      {\n        "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("format")]),s._v(": swapChainFormat,\n      },\n    ],\n  });\n")])]),t("p",[s._v("Using the pipeline")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),t("span",{pre:!0,attrs:{class:"hljs-function"}},[t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("frame")]),s._v("("),t("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" commandEncoder = device.createCommandEncoder();\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" textureView = swapChain.getCurrentTexture().createView();\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderPassDescriptor: GPURenderPassDescriptor = {\n      "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("colorAttachments")]),s._v(": [\n        {\n          "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("attachment")]),s._v(": textureView,\n          "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("loadValue")]),s._v(": { "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("r")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("g")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("b")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.0")]),s._v(" },\n        },\n      ],\n    };\n\n    "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" passEncoder = commandEncoder.beginRenderPass(renderPassDescriptor);\n    passEncoder.setPipeline(pipeline);\n    passEncoder.draw("),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),t("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(");\n    passEncoder.endPass();\n\n    device.defaultQueue.submit([commandEncoder.finish()]);\n  }\n\n  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" frame;\n")])]),t("h3",[s._v("5.4. "),t("a",{attrs:{name:"Shaders"}}),s._v("Shaders")]),t("ul",[t("li",[s._v("We can use wgsl or glsl shaders")]),t("li",[s._v("wgsl shader's are 'rust like' and look something like this")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" wgslShaders = {\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("vertex")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\nconst pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(\n    vec2<f32>(0.0, 0.5),\n    vec2<f32>(-0.5, -0.5),\n    vec2<f32>(0.5, -0.5));\n\n[[builtin(position)]] var<out> Dog : vec4<f32>;\n[[builtin(vertex_idx)]] var<in> VertexIndex : i32;\n\n[[stage(vertex)]]\nfn main() -> void {\n  Dog = vec4<f32>(pos[VertexIndex], 0.0, 1.0);\n  return;\n}\n`")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fragment")]),s._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`\n[[location(0)]] var<out> outColor : vec4<f32>;\n\n[[stage(fragment)]]\nfn main() -> void {\n  outColor = vec4<f32>(1.0, 0.0, 0.0, 1.0);\n  return;\n}\n`")]),s._v(",\n};\n\n")])]),t("h2",[s._v("6. "),t("a",{attrs:{name:"BabylonJSWebGPU"}}),s._v("BabylonJS + WebGPU")]),t("ul",[t("li",[t("a",{attrs:{href:"https://doc.babylonjs.com/advanced_topics/webGPU"}},[s._v("https://doc.babylonjs.com/advanced_topics/webGPU")])]),t("li",[t("a",{attrs:{href:"https://github.com/BabylonJS/Babylon.js/issues/6443"}},[s._v("https://github.com/BabylonJS/Babylon.js/issues/6443")])]),t("li",[t("a",{attrs:{href:"https://playground.babylonjs.com/indexWebGPU.html"}},[s._v("https://playground.babylonjs.com/indexWebGPU.html")])])])])}],n=t("2877"),l={},p=Object(n["a"])(l,e,r,!1,null,null,null);a["default"]=p.exports}}]);